{"ast":null,"code":"var _jsxFileName = \"/Users/jarow/Documents/feedtest/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const status = useScript(\"https://feed.fm/js/feed-media-audio-player.1.99.2.min.js\");\n  return /*#__PURE__*/_jsxDEV(\"html\", {\n    children: [/*#__PURE__*/_jsxDEV(\"head\", {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Feed React\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"https://feed.fm/js/feed-media-audio-player.1.99.2.min.js\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"body\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"player-view-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"play-button\",\n          children: \"play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"pause-button\",\n          children: \"pause\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"skip-button\",\n          children: \"skip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        children: \"// Create basic player. var player = new Feed.Player('demo', 'demo'); var playerView = new Feed.PlayerView('player-view-div', player); player.tune();\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"KnhrVUMAU9xeWQjRlzV8Su+Ts6Q=\", false, function () {\n  return [useScript];\n});\n\n_c = App;\n\nfunction useScript(src) {\n  _s2();\n\n  // Keep track of script status (\"idle\", \"loading\", \"ready\", \"error\")\n  const [status, setStatus] = useState(src ? \"loading\" : \"idle\");\n  useEffect(() => {\n    // Allow falsy src value if waiting on other data needed for\n    // constructing the script URL passed to this hook.\n    if (!src) {\n      setStatus(\"idle\");\n      return;\n    } // Fetch existing script element by src\n    // It may have been added by another intance of this hook\n\n\n    let script = document.querySelector(`script[src=\"${src}\"]`);\n\n    if (!script) {\n      // Create script\n      script = document.createElement(\"script\");\n      script.src = src;\n      script.async = true;\n      script.setAttribute(\"data-status\", \"loading\"); // Add script to document body\n\n      document.body.appendChild(script); // Store status in attribute on script\n      // This can be read by other instances of this hook\n\n      const setAttributeFromEvent = event => {\n        script.setAttribute(\"data-status\", event.type === \"load\" ? \"ready\" : \"error\");\n      };\n\n      script.addEventListener(\"load\", setAttributeFromEvent);\n      script.addEventListener(\"error\", setAttributeFromEvent);\n    } else {\n      // Grab existing script status from attribute and set to state.\n      setStatus(script.getAttribute(\"data-status\"));\n    } // Script event handler to update status in state\n    // Note: Even if the script already exists we still need to add\n    // event handlers to update the state for *this* hook instance.\n\n\n    const setStateFromEvent = event => {\n      setStatus(event.type === \"load\" ? \"ready\" : \"error\");\n    }; // Add event listeners\n\n\n    script.addEventListener(\"load\", setStateFromEvent);\n    script.addEventListener(\"error\", setStateFromEvent); // Remove event listeners on cleanup\n\n    return () => {\n      if (script) {\n        script.removeEventListener(\"load\", setStateFromEvent);\n        script.removeEventListener(\"error\", setStateFromEvent);\n      }\n    };\n  }, [src] // Only re-run effect if script src changes\n  );\n  return status;\n}\n\n_s2(useScript, \"+f9IL1HePzIreJ9B7ooGFgOjwwU=\");\n\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","App","status","useScript","src","setStatus","script","document","querySelector","createElement","async","setAttribute","body","appendChild","setAttributeFromEvent","event","type","addEventListener","getAttribute","setStateFromEvent","removeEventListener"],"sources":["/Users/jarow/Documents/feedtest/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport './App.css';\n\nfunction App() {\n  const status = useScript(\n    \"https://feed.fm/js/feed-media-audio-player.1.99.2.min.js\"\n  );\n  return (\n    <html>\n    <head>\n      <title>Feed React</title>\n      <script src=\"https://feed.fm/js/feed-media-audio-player.1.99.2.min.js\"></script>\n      </head>\n    <body>\n      \n      <div id=\"player-view-div\">\n        <div class='status'></div>\n        <button class=\"play-button\">play</button>\n        <button class=\"pause-button\">pause</button>\n        <button class=\"skip-button\">skip</button>\n      </div>\n    \n      <script>\n        // Create basic player.\n        var player = new Feed.Player('demo', 'demo');\n        var playerView = new Feed.PlayerView('player-view-div', player);    \n        \n        player.tune();\n      </script>\n      \n    </body>\n    </html>\n  );\n}\nfunction useScript(src) {\n  // Keep track of script status (\"idle\", \"loading\", \"ready\", \"error\")\n  const [status, setStatus] = useState(src ? \"loading\" : \"idle\");\n  useEffect(\n    () => {\n      // Allow falsy src value if waiting on other data needed for\n      // constructing the script URL passed to this hook.\n      if (!src) {\n        setStatus(\"idle\");\n        return;\n      }\n      // Fetch existing script element by src\n      // It may have been added by another intance of this hook\n      let script = document.querySelector(`script[src=\"${src}\"]`);\n      if (!script) {\n        // Create script\n        script = document.createElement(\"script\");\n        script.src = src;\n        script.async = true;\n        script.setAttribute(\"data-status\", \"loading\");\n        // Add script to document body\n        document.body.appendChild(script);\n        // Store status in attribute on script\n        // This can be read by other instances of this hook\n        const setAttributeFromEvent = (event) => {\n          script.setAttribute(\n            \"data-status\",\n            event.type === \"load\" ? \"ready\" : \"error\"\n          );\n        };\n        script.addEventListener(\"load\", setAttributeFromEvent);\n        script.addEventListener(\"error\", setAttributeFromEvent);\n      } else {\n        // Grab existing script status from attribute and set to state.\n        setStatus(script.getAttribute(\"data-status\"));\n      }\n      // Script event handler to update status in state\n      // Note: Even if the script already exists we still need to add\n      // event handlers to update the state for *this* hook instance.\n      const setStateFromEvent = (event) => {\n        setStatus(event.type === \"load\" ? \"ready\" : \"error\");\n      };\n      // Add event listeners\n      script.addEventListener(\"load\", setStateFromEvent);\n      script.addEventListener(\"error\", setStateFromEvent);\n      // Remove event listeners on cleanup\n      return () => {\n        if (script) {\n          script.removeEventListener(\"load\", setStateFromEvent);\n          script.removeEventListener(\"error\", setStateFromEvent);\n        }\n      };\n    },\n    [src] // Only re-run effect if script src changes\n  );\n  return status;\n}\n\nexport default App;\n"],"mappings":";;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAO,WAAP;;;AAEA,SAASC,GAAT,GAAe;EAAA;;EACb,MAAMC,MAAM,GAAGC,SAAS,CACtB,0DADsB,CAAxB;EAGA,oBACE;IAAA,wBACA;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAQ,GAAG,EAAC;MAAZ;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADA,eAKA;MAAA,wBAEE;QAAK,EAAE,EAAC,iBAAR;QAAA,wBACE;UAAK,KAAK,EAAC;QAAX;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAQ,KAAK,EAAC,aAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAQ,KAAK,EAAC,cAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAHF,eAIE;UAAQ,KAAK,EAAC,aAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eASE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QATF;IAAA;MAAA;MAAA;MAAA;IAAA,QALA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA0BD;;GA9BQF,G;UACQE,S;;;KADRF,G;;AA+BT,SAASE,SAAT,CAAmBC,GAAnB,EAAwB;EAAA;;EACtB;EACA,MAAM,CAACF,MAAD,EAASG,SAAT,IAAsBN,QAAQ,CAACK,GAAG,GAAG,SAAH,GAAe,MAAnB,CAApC;EACAJ,SAAS,CACP,MAAM;IACJ;IACA;IACA,IAAI,CAACI,GAAL,EAAU;MACRC,SAAS,CAAC,MAAD,CAAT;MACA;IACD,CANG,CAOJ;IACA;;;IACA,IAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAwB,eAAcJ,GAAI,IAA1C,CAAb;;IACA,IAAI,CAACE,MAAL,EAAa;MACX;MACAA,MAAM,GAAGC,QAAQ,CAACE,aAAT,CAAuB,QAAvB,CAAT;MACAH,MAAM,CAACF,GAAP,GAAaA,GAAb;MACAE,MAAM,CAACI,KAAP,GAAe,IAAf;MACAJ,MAAM,CAACK,YAAP,CAAoB,aAApB,EAAmC,SAAnC,EALW,CAMX;;MACAJ,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,MAA1B,EAPW,CAQX;MACA;;MACA,MAAMQ,qBAAqB,GAAIC,KAAD,IAAW;QACvCT,MAAM,CAACK,YAAP,CACE,aADF,EAEEI,KAAK,CAACC,IAAN,KAAe,MAAf,GAAwB,OAAxB,GAAkC,OAFpC;MAID,CALD;;MAMAV,MAAM,CAACW,gBAAP,CAAwB,MAAxB,EAAgCH,qBAAhC;MACAR,MAAM,CAACW,gBAAP,CAAwB,OAAxB,EAAiCH,qBAAjC;IACD,CAlBD,MAkBO;MACL;MACAT,SAAS,CAACC,MAAM,CAACY,YAAP,CAAoB,aAApB,CAAD,CAAT;IACD,CA/BG,CAgCJ;IACA;IACA;;;IACA,MAAMC,iBAAiB,GAAIJ,KAAD,IAAW;MACnCV,SAAS,CAACU,KAAK,CAACC,IAAN,KAAe,MAAf,GAAwB,OAAxB,GAAkC,OAAnC,CAAT;IACD,CAFD,CAnCI,CAsCJ;;;IACAV,MAAM,CAACW,gBAAP,CAAwB,MAAxB,EAAgCE,iBAAhC;IACAb,MAAM,CAACW,gBAAP,CAAwB,OAAxB,EAAiCE,iBAAjC,EAxCI,CAyCJ;;IACA,OAAO,MAAM;MACX,IAAIb,MAAJ,EAAY;QACVA,MAAM,CAACc,mBAAP,CAA2B,MAA3B,EAAmCD,iBAAnC;QACAb,MAAM,CAACc,mBAAP,CAA2B,OAA3B,EAAoCD,iBAApC;MACD;IACF,CALD;EAMD,CAjDM,EAkDP,CAACf,GAAD,CAlDO,CAkDD;EAlDC,CAAT;EAoDA,OAAOF,MAAP;AACD;;IAxDQC,S;;AA0DT,eAAeF,GAAf"},"metadata":{},"sourceType":"module"}